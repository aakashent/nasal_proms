<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NASALPROM — PROM Entry</title>
<link rel="stylesheet" href="style.css" />
<script defer src="app.js"></script>
</head>

<body>
<div class="top">
  <div>
    <h1>NASALPROM PROM Entry</h1>
    <p class="sub">Enter scores → copy TSV for spreadsheet or formatted EPR text.</p>
  </div>
</div>

<div class="card">
  <h2>Details</h2>

  <div class="row">
    <div>
      <label>Dataset</label>
      <select id="block">
        <option value="baseline">Baseline</option>
        <option value="followup">Follow-up</option>
      </select>
    </div>

    <div>
      <label>Date</label>
      <input type="date" id="date" />
    </div>

    <div>
      <label>Timepoint</label>
      <select id="timepoint">
        <option>Pre-op</option>
        <option>3 months</option>
        <option>6 months</option>
        <option>12 months</option>
        <option>Other</option>
      </select>
    </div>
  </div>
</div>

<div class="card">
  <h2>NOSE</h2>
  <p class="small muted">0 = not a problem • 4 = severe problem</p>

  <div id="noseQs"></div>

  <div class="totalsRow">
    <span class="pill">
      <span>NOSE total</span>
      <b id="noseTotal">0</b>
      <span class="muted">/ 20</span>
    </span>

    <button class="mini" id="resetNose" type="button">Reset</button>
  </div>
</div>

<div class="card">
  <h2>SNOT-22</h2>
  <p class="small muted">0 = no problem • 5 = problem as bad as it can be</p>

  <div id="snotQs"></div>

  <div class="totalsRow">
    <span class="pill">
      <span>SNOT-22 total</span>
      <b id="snotTotal">0</b>
      <span class="muted">/ 110</span>
    </span>

    <button class="mini" id="resetSnot" type="button">Reset</button>
  </div>
</div>

<div class="card">
  <h2>Actions</h2>

  <div class="btns">
    <button class="primary" id="copySheet">Copy for spreadsheet (TSV)</button>
    <button id="copyEpr">Copy for EPR</button>
    <button id="reset">Reset all</button>
  </div>

  <label style="margin-top:12px;">Preview</label>
  <textarea id="preview" readonly></textarea>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  NasalPromApp.mountClinician();
});
</script>

</body>
</html>